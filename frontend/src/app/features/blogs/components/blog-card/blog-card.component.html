<div class="flex flex-row justify-between ml-5">
  <h2 *ngIf="showSlides">Latest Blogs</h2>
  <h2 *ngIf="!showSlides">Popular Blogs</h2>
  <mat-paginator class="mb-2" [length]="totalBlogs" [pageSize]="itemsPerPage" [pageSizeOptions]="[5, 10, 20, 50]"
    (page)="handlePageEvent($event)">
  </mat-paginator>
</div>

<div class="max-h-[80vh] overflow-auto">
  <mat-grid-list *ngIf="!error" gutterSize="16" [cols]="cols" [rowHeight]="rowHeight">
    <mat-grid-tile *ngFor="let blog of paginatedBlogs; trackBy: trackByBlogId">

      <div class="w-full flex flex-row">
        <div class="profile-image">
          <img src="/assets/images/avatar.svg" alt="user image" *ngIf="!blog.user || !blog.user.image" />
          <img src="{{ apiUrl }}/img/{{ blog.user && blog.user.image ? blog.user.image : '' }}" alt=""
            *ngIf="contentLoaded && blog.user && blog.user.image" />
        </div>
        <div class="w-full">
          <mat-card class="shadow-lg p-2" [ngClass]="{'text-center': !fullWidthMode, }" *ngIf="blog">

            <div class="flex flex-row mt-2">
              <div>
                <div class="flex flex-row items-center">
                  <h4 class="mr-2" *ngIf="contentLoaded"> {{ blog?.user?.username }} </h4>
                </div>
              </div>
              <div> <span>{{ blog?.createdAt | date }}</span> </div>
            </div>

            <div [ngClass]="{'flex': fullWidthMode}">
              <a [routerLink]="['/blogs/blog-details/', blog._id]">
                <img class="mb-1 mx-auto min-w-24"
                  [ngClass]="{'h-[160px]': !fullWidthMode, 'h-[270px] w-[300px]': fullWidthMode}" [src]="blog.image"
                  alt="{{ blog.title }}" />
              </a>

              <mat-card-content class="w-full" [ngClass]="{'px-2 flex flex-col justify-between': fullWidthMode}">
                <a [routerLink]="['/blogs/blog-details/', blog._id]">
                  <span class="font-bold text-xs uppercase mb-1">{{ blog.category }}</span>

                  <p class="truncate hover:whitespace-normal" *ngIf="!fullWidthMode">{{ blog.title }}</p>
                  <div class="truncate text-wrap max-h-[50px]" *ngIf="fullWidthMode">
                    <ngx-skeleton-loader *ngIf="!contentLoaded"></ngx-skeleton-loader>
                    <h2 *ngIf="contentLoaded"> {{ blog.title }} </h2>
                  </div>
                  <p class="text-xs text-wrap max-h-[140px] overflow-auto" *ngIf="fullWidthMode"> {{ blog.description }}
                  </p>
                </a>
                <app-rating class="mt-2" [rating]="blog.rating" [numReviews]="blog.numReviews"></app-rating>

                <!-- <div class="flex justify-between mr-1">
                <span class="text-red-400">{{ blog.price | currency }}</span>
                <button class="text-blue-700 hover:text-blue-900 " (click)="onAddToCart(blog)">
                  <mat-icon class="mr-1">add_shopping_cart</mat-icon>
                  <span class="text-sm" >ADD TO CART</span>
                </button>
              </div> -->
              </mat-card-content>
            </div>

          </mat-card>
        </div>
      </div>
    </mat-grid-tile>
  </mat-grid-list>
</div>
<div class="no-data-found" *ngIf="noDataFound">
  <img src="/assets/images/no-data-found.png" alt="No Blog Found..!" />
</div>